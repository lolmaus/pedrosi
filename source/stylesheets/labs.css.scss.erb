@import 'bourbon/bourbon';

$countLabs: <%= page_articles.size + 1 %>;
$brandWidth: 10%;
$galleryNavWidth: 100%-$brandWidth;
$usefulUlWidth: 100%;
$scaleFactor: 1.2;
$labWidth: ($usefulUlWidth/$countLabs/$scaleFactor);
$navHeight: 80px;
$subNavHeight: 40px;

$red: #902028;
$white: #DDD;


* { -moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box; }

html, body{padding: 0;margin:0;}

nav.gallery-nav {
	background: #222;
	width: 100%;
	margin: 0;
	padding: 0;
	position: static;
	padding-top: 0;
	float: left;
	overflow:hidden;
	height: $navHeight;
	
	.labHolder{
		width: $galleryNavWidth;
		float: left;
		position: relative;
		overflow: hidden;
		height: 100%;
		// height: $navHeight;
	}
	ul {
		margin: 0;
		padding: 0;
		height: 100%;
		width: ((100%/$usefulUlWidth) * 100%);
		&:hover {
			li, li.active{ 
				width: $labWidth;
			}
			li:hover {
				width: $usefulUlWidth - ($countLabs - 1) * ($labWidth);
			}
		}
	}

	li {
		display: block;
		width: $labWidth;
		height: 100%;
		float: left;
		text-transform: none;
		@include transition(width 0.2s ease-out);
		border-radius: 0;
		

		& > a {
			display: block;
			min-width: 230px;
			background: #222;
			height: 100%;
			border: 4px solid transparent;
			border-left-width: 0;
			border-right-width: 0;
			padding: 4px 8px;
			border-radius: 0;
		}
		&.active{
			width: $usefulUlWidth - ($countLabs - 1) * ($labWidth);

			& > a{
				background: $red;
				border-bottom: 4px solid $red;
			}
		}

		figure {
			float: left;
			padding:0;
			margin:0;
			margin-right: 4px; 
		}
	}

	.title {
		font-weight: bold;
		color: $white;
	}

	.date {
		color: darken($white, 30%);
		display: block;
		margin-top: 0.5em;
	}
}

.brand {
	height: 100%;
	line-height: ($navHeight / 3);
	margin: 0;
	padding: ($navHeight / 6);
	color: $red;
	font-weight: bold;
	font-size: 1rem;
	width: $brandWidth;
	
	&:hover {
		background: transparent;
		color: $white;
	}
}

.pull-left {
	float: left;
}

.lab-explorer {
	position: absolute;
	width: 80%;
	left: 5%;
	right: 5%;
	top: 5%;
	bottom: 0;
	overflow-y:hidden;

	iframe {
		border:0;
		width:100%;
		height:100%;
		overflow-y: scroll;
	}
}
.gallery {
	.viewer {
		position:absolute;
		width: 100%;
		top: $navHeight + $subNavHeight;
		bottom: 0;
		overflow-y:hidden;

		iframe {
			border:0;
			width:100%;
			height:100%;
			overflow-y: scroll;
		}
	}

	.lab-description {
		background: $red;
		color: $white;
		height: $subNavHeight;
		line-height: $subNavHeight;
		padding: 0 ($navHeight / 6);
		clear: both;
	}

	.external-link {
		color: $white;
		float: right;
		text-decoration: none;
		&:hover{text-decoration: underline;}
	}
	.help {
		text-align: center;
		line-height: 8rem;
		display: block;
		width: 100%;
	}
}